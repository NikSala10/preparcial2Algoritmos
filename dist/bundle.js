(()=>{"use strict";var t;!function(t){t.ADD_TASK="ADD_TASK",t.REMOVE_TASK="REMOVE_TASK",t.TOGGLE_TASK="TOGGLE_TASK"}(t||(t={}));let e=(t=>{const e=localStorage.getItem(t)||sessionStorage.getItem(t);return e?JSON.parse(e):{taskItems:[]}})("TASKS"),s=[];const n=n=>{const i=((e,s)=>{const{action:n,payload:i}=e;switch(n){case t.ADD_TASK:return Object.assign(Object.assign({},s),{taskItems:[...s.taskItems,i]});case t.REMOVE_TASK:return Object.assign(Object.assign({},s),{taskItems:s.taskItems.filter((t=>t.title!==i.title||t.description!==i.description))});case t.TOGGLE_TASK:const e=[];return s.taskItems.forEach((t=>{i.title==t.title&&i.description==t.description?e.push(i):e.push(t)})),Object.assign(Object.assign({},s),{taskItems:e});default:return s}})(n,JSON.parse(JSON.stringify(e)));e=i,((t,e,s=!1)=>{const n=s?sessionStorage:localStorage,i=JSON.stringify(e);n.setItem(t,i)})("TASKS",i),s.forEach((t=>t.render()))},i=t=>{s=[...s,t]};var o;!function(t){t.titletask="titletask",t.description="description",t.state="state"}(o||(o={}));class a extends HTMLElement{static get observedAttributes(){return Object.values(o)}attributeChangedCallback(t,e,s){t===o.state?this.state="true"===s:this[t]=s}constructor(){super(),this.attachShadow({mode:"open"}),i(this)}connectedCallback(){this.render()}render(){var e;if(this.shadowRoot){this.shadowRoot.innerHTML=`\n                <div class="task" style="background-color: ${this.state?"green":"inherit"};">\n                    <h4>${this.titletask}</h4>\n                    <p>${this.description}</p>\n                    <p>${this.state?"Completada":"Pendiente"}</p>\n                    <input type="checkbox" ${this.state?"checked":""} id="checkbox">\n                    <button id="delete">Eliminar</button>\n                </div>\n            `;const s=null===(e=this.shadowRoot)||void 0===e?void 0:e.querySelector("#delete");null==s||s.addEventListener("click",(()=>{var e;n((e={title:this.titletask,description:this.description,state:this.state},{action:t.REMOVE_TASK,payload:e}))}));const i=this.shadowRoot.querySelector("#checkbox");null==i||i.addEventListener("click",(()=>{var e;n((e={title:this.titletask,description:this.description,state:!this.state},{action:t.TOGGLE_TASK,payload:e}))}))}}}customElements.define("task-item",a);class r extends HTMLElement{constructor(){super(),this.taskitems=[],this.attachShadow({mode:"open"}),i(this)}static get observedAttributes(){return["container"]}attributeChangedCallback(t,e,s){"form"===t&&this.render()}connectedCallback(){this.render()}createTaskItem(){e.taskItems.forEach((t=>{const e=this.ownerDocument.createElement("task-item");e.setAttribute(o.titletask,String(t.title)),e.setAttribute(o.description,String(t.description)),e.setAttribute(o.state,String(t.state)),this.taskitems.push(e)}))}render(){var t;if(this.shadowRoot){this.shadowRoot.innerHTML='\n        \n\t\t\t<div class="container"></div>\n    ',this.createTaskItem();const e=null===(t=this.shadowRoot)||void 0===t?void 0:t.querySelector(".container");this.taskitems.forEach((t=>{null==e||e.appendChild(t)}))}}}customElements.define("task-list",r);class c extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"})}static get observedAttributes(){return["form"]}attributeChangedCallback(t,e,s){"form"===t&&this.render()}connectedCallback(){this.render()}render(){var e,s,i;if(this.shadowRoot){this.shadowRoot.innerHTML='\n             <h1>ADD TASK</h1>\n    \t\t<form action="">\n\t\t\t\t<input id="title" type="text" placeholder="escribe el titulo de tu tarea">\n\t\t\t\t<input id="description" type="text" placeholder="escribe la descripcion">\n\t\t\t\t<input id="submitSend" type="submit" value="agregar">\n    \t\t</form>\n            ';const o=null===(e=this.shadowRoot)||void 0===e?void 0:e.querySelector("form"),a=null===(s=this.shadowRoot)||void 0===s?void 0:s.querySelector("#title"),r=null===(i=this.shadowRoot)||void 0===i?void 0:i.querySelector("#description");null==o||o.addEventListener("submit",(()=>{var e;n((e={title:a?a.value:"No title",description:r?r.value:"No description",state:!1},{action:t.ADD_TASK,payload:e}))}))}}}customElements.define("taskform-component",c);class d extends HTMLElement{constructor(){super(),this.dataProducts=[],this.attachShadow({mode:"open"}),i(this)}connectedCallback(){return t=this,e=void 0,n=function*(){this.render()},new((s=void 0)||(s=Promise))((function(i,o){function a(t){try{c(n.next(t))}catch(t){o(t)}}function r(t){try{c(n.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof s?e:new s((function(t){t(e)}))).then(a,r)}c((n=n.apply(t,e||[])).next())}));var t,e,s,n}createCardsProduct(){}createCardsShoppingItem(){}render(){this.shadowRoot&&(this.shadowRoot.innerHTML='\n               \n                <div class="container-tasks">\n                    <taskform-component></taskform-component>\n                    <task-list>\n                        <task-item></task-item>\n                    </task-list>\n                </div>\n               \n                ')}}customElements.define("app-dashboard",d);class l extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"})}connectedCallback(){this.render()}render(){var t;if(this.shadowRoot){this.shadowRoot.innerHTML="";const e=this.ownerDocument.createElement("app-dashboard");null===(t=this.shadowRoot)||void 0===t||t.appendChild(e)}}}customElements.define("app-container",l)})();